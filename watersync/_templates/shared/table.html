<!-- shared/dynamic_table.html -->
{% load custom_tags %}
<table class="table table-striped table-sm">
    <thead>
        <tr>
            <th scope="col">#</th>
            {% for column in columns %}
                <th scope="col">{{ column|capfirst }}</th>
            {% endfor %}
            {% if url_name %}
                <th scope="col">Details</th>
            {% endif %}
        </tr>
    </thead>
    {% comment %} <tbody>
        {% for item in queryset %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            {% for column in columns %}
                <td>{{ item|getattr:column }}</td>
            {% endfor %}
            {% if url_name %}
                <td>
                    <a class="btn btn-sm btn-info" href="{% url url_name url_params item.pk %}">Details...</a>
                </td>
            {% endif %}
        </tr>
        {% empty %}
            <tr>
                <td colspan="{{ columns|length|add:2 }}">No data found</td>
            </tr>
        {% endfor %}
    </tbody> {% endcomment %}
</table>
